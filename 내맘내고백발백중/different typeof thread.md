스레드의 종류

https://www.youtube.com/watch?v=vorIqiLM7jc&ab_channel=%EC%89%AC%EC%9A%B4%EC%BD%94%EB%93%9C


하드웨어 스레드, os 스레드, 네이티브 스레드, 커널 스레드, 유저 스레드, 그린 스레드.

CPU스레드? 하드웨어 스레드: 코어의 고민. 메모리에서 데이터를 기다리는 시간이 꽤 오래걸린다. 코어에서 ㅡ프로그램이 실행될때 각종 연산작업존재 


메모리에서 데이터를 기다리는 시간이 꽤 오래걸린다. 코어를 낭비하고있는거나 마찬가지.


메모리를 기다리는 동안 다른 스레드를 실행한다면? 코어에서 연산작업. 컴퓨팅 작업 하게된다. 메모리에 접근하는 동안에 코어가 아무일도안한다.

메모리 접근할때마다 코어 낭비

코어는 하나인데. 코어의 사용률을 극대화시키기위해 서로의 다른 두개의 스레드를 실행한다. 하드웨어 스레드. 하이퍼 스레딩이라고 한다

물리적인 코어마다 하드웨어 스레드가 두개 OS 관점에서는 가상의 스레드. 싱글코어 CPU에서 하드웨어 스래드가 두개라면.

OS는 이 CPU를 듀얼 코어로 인식하고. 듀얼코어에 맞춰서 OS레벨의 스레드 들을 스케줄링한다.

인텔 듀얼코어 하이퍼스레딩이면 스레드는 4개죠 하드웨어 스레드가 코어 4개짜리 CPU로 인식



OS 스레드의 컨텍스트 스위칭은 커널이 개입 -> 비용 발생

사용자 코드와 커널코드 모두 OS 스레드에서 실행된다. 커널코드가 실행. 끝나고 시스템 코드 완료 

```
OS 스레드가 네이티브 스레드라던가 커널 스레드라던가

OS스레드가 8개있는데 하이퍼 스레딩이 적용된 듀얼코어 위에서 동작하면

어떻게 OS스레드를 코어에 균등하게 할당하냐?

코어마다 하드웨어 스레드가 2개씩. 총 하드웨어 스레드는 4개 

코어 4개짜리 CPU 스레드를 2개씩 넣는다




```


USER THREAD? -> 스레드 개념을 프로그래밍 레벨에서 추상화 한것.
Thread thread = new thread();

thread.start();

유저스레드는 반드시 os 스레드와 연결이 되어야한다. one - to - one model 

스레드 관리 os 위임.  스케줄링도 커널이한다.

멀티코어도 잘 활용함.








